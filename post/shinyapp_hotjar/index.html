<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.59.1" />

  <title>Track a website usage with hotjar &middot; David Granjon</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="Track a website usage with hotjar">
<meta itemprop="description" content="A web tracking tool I often use is hotjar. Below is a heatmap showing all the users click in the past week in my personal website.">


<meta itemprop="datePublished" content="2018-04-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-04-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="592">



<meta itemprop="keywords" content="" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Track a website usage with hotjar"/>
<meta name="twitter:description" content="A web tracking tool I often use is hotjar. Below is a heatmap showing all the users click in the past week in my personal website."/>


<meta property="og:title" content="Track a website usage with hotjar" />
<meta property="og:description" content="A web tracking tool I often use is hotjar. Below is a heatmap showing all the users click in the past week in my personal website." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://divadnojnarg.github.io/post/shinyapp_hotjar/" />
<meta property="article:published_time" content="2018-04-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-04-01T00:00:00+00:00" /><meta property="og:site_name" content="David Granjon" />



  <link type="text/css"
        rel="stylesheet"
        href="https://divadnojnarg.github.iocss/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="https://divadnojnarg.github.iocss/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="https://divadnojnarg.github.iocss/hyde.css">

  
<style type="text/css">
  .sidebar {
    background-color: #3e3e3e;
  }

  .read-more-link a {
    border-color: #3e3e3e;
  }

  .pagination li a {
    color: #3e3e3e;
    border: 1px solid #3e3e3e;
  }

  .pagination li.active a {
    background-color: #3e3e3e;
  }

  .pagination li a:hover {
    background-color: #3e3e3e;
    opacity: 0.75;
  }

  footer a,
  .content a,
  .related-posts li a:hover {
    color: #3e3e3e;
  }
</style>



  <link type="text/css" rel="stylesheet" href="https://divadnojnarg.github.iocss/custom.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <img src="https://divadnojnarg.github.ioimages/profile.jpeg" class="img-circle img-headshot center" alt="Profile Picture">
        </div>
        
      

      <h1>David Granjon</h1>

      
      <p class="lead">Blog</p>
      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://divadnojnarg.github.io">Home</a>
        </li>
        <li>
          <a href="/about/"> About </a>
        </li><li>
          <a href="mailto:dgranjon@ymail.com"> Contact </a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://ch.linkedin.com/in/david-granjon-88625968" rel="me" title="Linkedin">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/DivadNojnarg" rel="me" title="GitHub">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="https://twitter.com/divadnojnarg" rel="me" title="Twitter">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1>Track a website usage with hotjar</h1>

  <div class="post-date">
    <time datetime="2018-04-01T00:00:00Z">Apr 1, 2018</time> Â· 3 min read
  </div>

  <p>A web tracking tool I often use is <a href="https://www.hotjar.com">hotjar</a>. Below is a heatmap
showing all the users click in the past week in my personal website. I am keen on
this kind of feedback since it summarizes everything at a glance. The screenshot
you can see only takes into account click events. However, you can also see users
moves or how they scroll on your website.</p>

<p><a href="/images/heatmap_blog.jpg"><img src="/images/heatmap_blog.jpg" width="auto" height="auto" alt="blank"></a></p>

<p>The table below shows where your visitors are from, how much time they spend on a
given page, with which web browser and when.</p>

<p><a href="/images/visitors_logs.png"><img src="/images/visitors_logs.png" width="auto" height="auto" alt="blank"></a></p>

<p>Moreover, you can go further and investigate what they specifically did during their
session. Indeed, each user session is recorded so that you see exactly where they spent
a lot of time, you can even detect hesitations and at what moment they exited your
website.</p>

<p><a href="/images/visitors_movie.png"><img src="/images/visitors_movie.png" width="auto" height="auto" alt="blank"></a></p>

<p>If you are interested in the features described above, I highly recommend you
trying hotjar and create a free account (perfect for small impact websites). Furthermore,
if you expect your personal website to have a lot of trafic, you might consider
upgrading your account. To configure hotjar, everything is really well described
in their help section <a href="https://help.hotjar.com/hc">here</a>.</p>

<p>Basically, hotjar only needs a tracking code to work properly. Be sure to provide
the good url and simply check your installation with their tool.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!-- Hotjar Tracking Code for https://divadnojnarg.github.io --&gt;</span>
        &lt;<span style="color:#f92672">script</span>&gt;
            (<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">h</span>,<span style="color:#a6e22e">o</span>,<span style="color:#a6e22e">t</span>,<span style="color:#a6e22e">j</span>,<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">r</span>){
                <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span><span style="color:#f92672">=</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span><span style="color:#f92672">||</span><span style="color:#66d9ef">function</span>(){(<span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span>.<span style="color:#a6e22e">q</span><span style="color:#f92672">=</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span>.<span style="color:#a6e22e">q</span><span style="color:#f92672">||</span>[]).<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">arguments</span>)};
                <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">hjid</span><span style="color:#f92672">:</span><span style="color:#ae81ff">827666</span>,<span style="color:#a6e22e">hjsv</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>};
                <span style="color:#a6e22e">a</span><span style="color:#f92672">=</span><span style="color:#a6e22e">o</span>.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#39;head&#39;</span>)[<span style="color:#ae81ff">0</span>];
                <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#a6e22e">o</span>.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;script&#39;</span>);<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">async</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
                <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#a6e22e">t</span><span style="color:#f92672">+</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span>.<span style="color:#a6e22e">hjid</span><span style="color:#f92672">+</span><span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span>.<span style="color:#a6e22e">hjsv</span>;
                <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">r</span>);
            })(window,document,<span style="color:#e6db74">&#39;https://static.hotjar.com/c/hotjar-&#39;</span>,<span style="color:#e6db74">&#39;.js?sv=&#39;</span>);
        &lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p><a href="/images/hotjar_check.png"><img src="/images/hotjar_check.png" width="auto" height="auto" alt="blank"></a></p>

<p>You can easily understand that hotjar can be used for tracking a shiny app usage.
To include it in your app, you have 6 steps to follow:</p>

<ul>
<li>create a new url tracking in the hotjar dashboard and provide the
url of your shinyapp</li>
<li>a tracking javascript code (as above) will be given to you</li>
<li>copy the part embeded in the script tag and create a new file called hotjar.js
in the <strong>www folder</strong> of your shiny app</li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">javascript</span>
(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">h</span>,<span style="color:#a6e22e">o</span>,<span style="color:#a6e22e">t</span>,<span style="color:#a6e22e">j</span>,<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">r</span>){
                <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span><span style="color:#f92672">=</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span><span style="color:#f92672">||</span><span style="color:#66d9ef">function</span>(){(<span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span>.<span style="color:#a6e22e">q</span><span style="color:#f92672">=</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">hj</span>.<span style="color:#a6e22e">q</span><span style="color:#f92672">||</span>[]).<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">arguments</span>)};
                <span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">hjid</span><span style="color:#f92672">:</span><span style="color:#ae81ff">827666</span>,<span style="color:#a6e22e">hjsv</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>};
                <span style="color:#a6e22e">a</span><span style="color:#f92672">=</span><span style="color:#a6e22e">o</span>.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#39;head&#39;</span>)[<span style="color:#ae81ff">0</span>];
                <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#a6e22e">o</span>.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#39;script&#39;</span>);<span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">async</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
                <span style="color:#a6e22e">r</span>.<span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#a6e22e">t</span><span style="color:#f92672">+</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span>.<span style="color:#a6e22e">hjid</span><span style="color:#f92672">+</span><span style="color:#a6e22e">j</span><span style="color:#f92672">+</span><span style="color:#a6e22e">h</span>.<span style="color:#a6e22e">_hjSettings</span>.<span style="color:#a6e22e">hjsv</span>;
                <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">r</span>);
            })(window,document,<span style="color:#e6db74">&#39;https://static.hotjar.com/c/hotjar-&#39;</span>,<span style="color:#e6db74">&#39;.js?sv=&#39;</span>);
</code></pre></div>

<ul>
<li>in the <strong>ui.R</strong> file, insert the following code:</li>
</ul>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">tags<span style="color:#f92672">$</span><span style="color:#a6e22e">head</span>(<span style="color:#a6e22e">includeScript</span>(<span style="color:#a6e22e">paste0</span>(<span style="color:#a6e22e">getwd</span>(), <span style="color:#e6db74">&#34;/www/hotjar.js&#34;</span>)))</code></pre></div>

<ul>
<li>Check if your tracking code is active as shown above. When a green message appear,
hotjar is succesfully installed.</li>
<li>Do not forget to set up a heatmap as well as recording (left sidebar of the hotjar
dashboard). The configuration is pretty straightforward that is why I will not describe it here.</li>
</ul>

<p>Finally, I give you an overview of what you could obtain with a shiny app. I noticed however
 that I was not able to see any input object in the hotjar recorded movie. I have no idea of what is
 missing to make it perfect. Consequently, any feedback is welcome!</p>

<p>Here is the Hotjar feedback regarding this issue:</p>

<blockquote>
<p>Hi David,</p>

<p>Thanks for reaching out and I&rsquo;m so sorry about this trouble!</p>

<p>I had a look at your heatmap and I believe the reason this may be happening is due to the fact that these elements are tied to canvas objects. Currently, Hotjar doesn&rsquo;t support interactions with SVG or Canvas objects, so they would appear in your heatmap and thus your knobInput examples return a void result.</p>

<p>That said, we already have this in our development pipeline. The more times an item is mentioned by our users the higher we prioritize it and the faster we will get it done - so this just got upvoted. ð</p>

<p>I have taken a note to inform you as soon as this becomes available.</p>

<p>In the meantime, you can see what we&rsquo;re currently working on in our Product Roadmap.</p>

<p>Hope that cleared things up and please let me know if you need any extra help!</p>
</blockquote>

<p><a href="/images/heatmap_shinyapp.jpg"><img src="/images/heatmap_shinyapp.jpg" width="auto" height="auto" alt="blank"></a></p>

</div>


  </main>

  <footer>
  <div>
    &copy; David Granjon 2020
    Â·
    
    
    Â·
    Build with <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://themes.gohugo.io/soho/" target="_blank">Soho</a> theme
    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  
</body>
</html>
