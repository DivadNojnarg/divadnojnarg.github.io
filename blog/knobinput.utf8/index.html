<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        
        <title>
            
            
                Extend shinyWidgets: knobInput | Hi, I am David
            
        </title>

        <meta name="title" content="Extend shinyWidgets: knobInput | Hi, I am David">

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="referrer" content="no-referrer-when-downgrade">
        <meta name="generator" content="">
        <base href="../../">
        <meta name="description" content="PhD in Mathematical Physiology, Renal Physiology, Zurich.">
        
        <meta name="author" content="David Granjon">
        
        <meta property="og:title" content="Extend shinyWidgets: knobInput | Hi, I am David">
        <meta property="og:type" content="website">
        <meta property="og:url" content="/">
        
        <meta property="og:description" content="PhD in Mathematical Physiology, Renal Physiology, Zurich.">
        

        

        <link rel="canonical" href="../../blog/knobinput.utf8/">
        
        <link rel="stylesheet" href="styles/main.css" type="text/css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/dracula.min.css">
        
        
        <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>
        
    </head>

    <body>
        

        

        <nav class="row middle-xs center-xs">
            <div class="col-xs-6 col-sm-1 logo">
                <a href="../../"><img src="../../images/fractal-logo.png" alt="Hi, I am David"></a>
            </div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#work">Work</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#blog">Blog</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#contact">Contact</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../cv.pdf">About</a></h3></div>
            
            <div class="col-xs-6 col-sm-1 nav-toggle">
                <a href="" class="nav-icon" onclick="return false"><img src="../../images/icon-menu.png" alt="Open Menu"><img src="../../images/icon-x.png" alt="Close Menu" style="display: none;"></a>
            </div>
        </nav>
        <section class="nav-full row middle-xs center-xs">
            <div class="col-xs-12">
                <div class="row middle-xs center-xs">
                    
                    <div class="col-xs-12"><h1><a href="../../#work">Work</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../#blog">Blog</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../#contact">Contact</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../cv.pdf">About</a></h1></div>
                    
                </div>
            </div>
        </section>
        <main>


<section class="container">
    <section class="content">
      <h1> Extend shinyWidgets: knobInput </h1>

      <div class="sub-header">
        November 2017 Â· 2 minute read
      </div>

      <div class="entry-content">
        <p><a href="https://shiny.rstudio.com">shiny</a> basic package contains several widgets, available
<a href="https://shiny.rstudio.com/gallery/widget-gallery.html">here</a>. This database is
continously extended through the <a href="https://github.com/dreamRs/shinyWidgets">shinyWidget</a>
package developed by the <a href="https://www.dreamrs.fr">dreamRs</a> team. Here I present how we
add a new knobInput widget to shinyWidget, with Victor Perrier from dreamRs team.</p>

<p>I always wanted to play with some knobs in shiny, similarly as what we do with sliders.
However, in spite of some research, I found nothing already implemented. Later, I discovered
this js library <a href="https://github.com/aterrien">jQuery knob</a>. In parallel, I started to read some tutorials
on <em>&ldquo;how to extend shiny&rdquo;</em> and decided to create a new RStudio project to include this
new widget. The idea is simple:</p>

<ol>
<li>First, you create the file containing the new widget: <em>input-knob.R</em>. It is widely inspired
on what you can find on the shiny github R <a href="https://github.com/rstudio/shiny/tree/master/R">folder</a>.
Below, I quickly describe its content:</li>
</ol>

<pre><code class="language-r">knobInput &lt;- function(inputId, label, value, min = 0, max = 100, step = 1,
                      angleOffset = 0, angleArc = 360, cursor = FALSE,
                      thickness = NULL, lineCap = c(&quot;default&quot;, &quot;round&quot;), displayInput = TRUE,
                      displayPrevious = FALSE, rotation = c(&quot;clockwise&quot;, &quot;anticlockwise&quot;),
                      fgColor = NULL, inputColor = NULL, bgColor = NULL,
                      readOnly = FALSE, skin = NULL, width = NULL, height = NULL) {
  value &lt;- shiny::restoreInput(id = inputId, default = value)
  lineCap &lt;- match.arg(lineCap)
  rotation &lt;- match.arg(rotation)
  knobParams &lt;- dropNulls(list(
    id = inputId, type = &quot;text&quot;, class = &quot;knob-input&quot;, 
    value = value, `data-value` = value, `data-skin` = skin,
    `data-min` = min, `data-max` = max, `data-step` = step, 
    `data-angleoffset` = angleOffset, `data-anglearc` = angleArc,
    `data-displayprevious` = displayPrevious, `data-thickness` = thickness,
    `data-displayinput` = displayInput, `data-linecap` = lineCap,
    `data-fgcolor` = fgColor, `data-inputcolor` = inputColor,
    `data-bgcolor` = bgColor, `data-cursor` = cursor,
    `data-rotation` = rotation, `data-readonly` = readOnly,
    `data-width` = width, `data-height` = height
  ))
  knobParams &lt;- lapply(knobParams, function(x) {
    if (identical(x, TRUE))
      &quot;true&quot;
    else if (identical(x, FALSE))
      &quot;false&quot;
    else x
  })
  inputTag &lt;- do.call(htmltools::tags$input, knobParams)
  knobInputTag &lt;- htmltools::tags$div(
    class = &quot;form-group shiny-input-container&quot;,
    style = if (!is.null(width)) paste0(&quot;width: &quot;, htmltools::validateCssUnit(width), &quot;;&quot;),
    if (!is.null(label)) htmltools::tags$label(`for` = inputId, label),
    if (!is.null(label)) htmltools::tags$br(),
    inputTag
  )
  dep &lt;- htmltools::htmlDependency(
    name = &quot;jquery-knob&quot;, version = &quot;1.2.13&quot;,
    src = c(href = &quot;jquery-knob&quot;),
    script = c(&quot;jquery.knob.min.js&quot;,
               &quot;knob-input-binding.js&quot;)
  )
  htmltools::attachDependencies(knobInputTag, dep)
}
</code></pre>

<ol>
<li>Then, you need to create the related input-binding.</li>
</ol>

<pre><code class="language-r">
</code></pre>

<p><a href="https://stackoverflow.com/questions/47261702/create-a-knobinput-widget-in-shiny-app">https://stackoverflow.com/questions/47261702/create-a-knobinput-widget-in-shiny-app</a></p>

      </div>

      <div class="links">
        
          &laquo; <a class="basic-alignment left" href="../../blog/customsliderinput/">How to customize shiny sliderInput</a>
        
        
          <a class="basic-alignment left" href="../../blog/knobinput/">Extend shinyWidgets: knobInput</a> &raquo;
        
      </div>
    </section>
    <div id="disqus_thread"></div>
  <script type="text/javascript">
    
    (function() {
      
      
      if (window.location.hostname == "localhost")
      return;
      
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'divadnojnarg';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

        </main>
        <footer class="row middle-xs center-xs">
            
            <div class="col-xs-3 col-md-2"><a href="https://github.com/divadnojnarg">GitHub</a></div>
            
            
            <div class="col-xs-3 col-md-2"><a href="https://linkedin.com/in/david-granjon-88625968">LinkedIn</a></div>
            
            
            
            <div class="col-xs-12">
                
                Copyright &copy; 2017 Hi, I am David.
                
                
            </div>
            
            
            <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
            
            <script src="../../scripts/main.js" type="text/javascript"></script>
            
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
        </footer>
    </body>
</html>

