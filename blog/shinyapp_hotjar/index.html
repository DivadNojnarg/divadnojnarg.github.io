<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        
        <title>
            
            
                Track a website usage with hotjar | Hi, I am David
            
        </title>

        <meta name="title" content="Track a website usage with hotjar | Hi, I am David">

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="referrer" content="no-referrer-when-downgrade">
        <meta name="generator" content="">
        <base href="https://divadnojnarg.github.io">
        <meta name="description" content="PhD in Mathematical Physiology, Renal Physiology, Zurich.">
        
        <meta name="author" content="David Granjon">
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@divadnojnarg">
        <meta name="twitter:creator" content="@divadnojnarg">
        
        <meta property="og:title" content="Track a website usage with hotjar | Hi, I am David">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://divadnojnarg.github.io">
        
        <meta property="og:description" content="PhD in Mathematical Physiology, Renal Physiology, Zurich.">
        

        

        <link rel="canonical" href="https://divadnojnarg.github.io/blog/shinyapp_hotjar/">
        
        <link rel="stylesheet" href="styles/main.css" type="text/css">
         <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"> 
        
        
        <script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });

  MathJax.Hub.Config({
  
  TeX: { equationNumbers: { autoNumber: "AMS" } }
  });
</script>
        
        
        <script>
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:827666,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
        </script>
        
    </head>

    <body>
        

        

        <nav class="row middle-xs center-xs">
            <div class="col-xs-6 col-sm-1 logo">
                <a href="https://divadnojnarg.github.io"><img src="../../images/fractal-logo.png" alt="Hi, I am David"></a>
            </div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#work">Work</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#blog">Blog</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../#contact">Contact</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="../../cv.pdf">About</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="http://130.60.24.205">My Shiny Server</a></h3></div>
            
            <div class="col-xs-3 col-md-2"><h3><a href="http://130.60.24.78">Apps.Physiol</a></h3></div>
            
            <div class="col-xs-6 col-sm-1 nav-toggle">
                <a href="" class="nav-icon" onclick="return false"><img src="../../images/icon-menu.png" alt="Open Menu"><img src="../../images/icon-x.png" alt="Close Menu" style="display: none;"></a>
            </div>
        </nav>
        <section class="nav-full row middle-xs center-xs">
            <div class="col-xs-12">
                <div class="row middle-xs center-xs">
                    
                    <div class="col-xs-12"><h1><a href="../../#work">Work</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../#blog">Blog</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../#contact">Contact</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="../../cv.pdf">About</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="http://130.60.24.205">My Shiny Server</a></h1></div>
                    
                    <div class="col-xs-12"><h1><a href="http://130.60.24.78">Apps.Physiol</a></h1></div>
                    
                </div>
            </div>
        </section>
        <main>


<section class="container">
    <section class="content">
      <h1> Track a website usage with hotjar </h1>

      <div class="sub-header">
        April 2018 Â· 3 minute read
      </div>

      <div class="entry-content">
        <p>A web tracking tool I often use is <a href="https://www.hotjar.com">hotjar</a>. Below is a heatmap
showing all the users click in the past week in my personal website. I am keen on
this kind of feedback since it summarizes everything at a glance. The screenshot
you can see only takes into account click events. However, you can also see users
moves or how they scroll on your website.</p>

<p><a href="images/heatmap_blog.jpg"><img src="images/heatmap_blog.jpg" width="auto" height="auto" alt="blank"></a></p>

<p>The table below shows where your visitors are from, how much time they spend on a
given page, with which web browser and when.</p>

<p><a href="images/visitors_logs.png"><img src="images/visitors_logs.png" width="auto" height="auto" alt="blank"></a></p>

<p>Moreover, you can go further and investigate what they specifically did during their
session. Indeed, each user session is recorded so that you see exactly where they spent
a lot of time, you can even detect hesitations and at what moment they exited your
website.</p>

<p><a href="images/visitors_movie.png"><img src="images/visitors_movie.png" width="auto" height="auto" alt="blank"></a></p>

<p>If you are interested in the features described above, I highly recommend you
trying hotjar and create a free account (perfect for small impact websites). Furthermore,
if you expect your personal website to have a lot of trafic, you might consider
upgrading your account. To configure hotjar, everything is really well described
in their help section <a href="https://help.hotjar.com/hc">here</a>.</p>

<p>Basically, hotjar only needs a tracking code to work properly. Be sure to provide
the good url and simply check your installation with their tool.</p>

<pre><code class="language-html">&lt;!-- Hotjar Tracking Code for https://divadnojnarg.github.io --&gt;
        &lt;script&gt;
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:827666,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
        &lt;/script&gt;
</code></pre>

<p><a href="images/hotjar_check.png"><img src="images/hotjar_check.png" width="auto" height="auto" alt="blank"></a></p>

<p>You can easily understand that hotjar can be used for tracking a shiny app usage.
To include it in your app, you have 6 steps to follow:</p>

<ul>
<li>create a new url tracking in the hotjar dashboard and provide the
url of your shinyapp</li>
<li>a tracking javascript code (as above) will be given to you</li>
<li>copy the part embeded in the script tag and create a new file called hotjar.js
in the <strong>www folder</strong> of your shiny app</li>
</ul>

<pre><code class="language-js">(function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:827666,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</code></pre>

<ul>
<li>in the <strong>ui.R</strong> file, insert the following code:</li>
</ul>

<pre><code>tags$head(includeScript(paste0(getwd(), &quot;/www/hotjar.js&quot;)))
</code></pre>

<ul>
<li>Check if your tracking code is active as shown above. When a green message appear,
hotjar is succesfully installed.</li>
<li>Do not forget to set up a heatmap as well as recording (left sidebar of the hotjar
dashboard). The configuration is pretty straightforward that is why I will not describe it here.</li>
</ul>

<p>Finally, I give you an overview of what you could obtain with a shiny app. I noticed however
 that I was not able to see any input object in the hotjar recorded movie. I have no idea of what is
 missing to make it perfect. Consequently, any feedback is welcome!</p>

<p>Here is the Hotjar feedback regarding this issue:</p>

<blockquote>
<p>Hi David,</p>

<p>Thanks for reaching out and I&rsquo;m so sorry about this trouble!</p>

<p>I had a look at your heatmap and I believe the reason this may be happening is due to the fact that these elements are tied to canvas objects. Currently, Hotjar doesn&rsquo;t support interactions with SVG or Canvas objects, so they would appear in your heatmap and thus your knobInput examples return a void result.</p>

<p>That said, we already have this in our development pipeline. The more times an item is mentioned by our users the higher we prioritize it and the faster we will get it done - so this just got upvoted. ðŸ˜ƒ</p>

<p>I have taken a note to inform you as soon as this becomes available.</p>

<p>In the meantime, you can see what we&rsquo;re currently working on in our Product Roadmap.</p>

<p>Hope that cleared things up and please let me know if you need any extra help!</p>
</blockquote>

<p><a href="images/heatmap_shinyapp.jpg"><img src="images/heatmap_shinyapp.jpg" width="auto" height="auto" alt="blank"></a></p>

      </div>

      <div class="links">
        
          &laquo; <a class="basic-alignment left" href="https://divadnojnarg.github.io/blog/awesomedashboards/">Build awesome dashboards with shiny</a>
        
        
          <a class="basic-alignment left" href="https://divadnojnarg.github.io/blog/rpackages_save/">Save your R packages when updating R version</a> &raquo;
        
      </div>
    </section>
    <div id="disqus_thread"></div>
  <script type="text/javascript">
    
    (function() {
      
      
      if (window.location.hostname == "localhost")
      return;
      
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'divadnojnarg';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

        </main>
        <footer class="row middle-xs center-xs">
            
            <div class="col-xs-3 col-md-2"><a href="https://github.com/divadnojnarg">GitHub</a></div>
            
            
            <div class="col-xs-3 col-md-2"><a href="https://linkedin.com/in/david-granjon-88625968">LinkedIn</a></div>
            
            
            <div class="col-xs-3 col-md-2"><a href="https://twitter.com/divadnojnarg">Twitter</a></div>
            
            
            <div class="col-xs-12">
                
                Copyright &copy; 2018 Hi, I am David.
                
                
            </div>
            
            
            <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
            
            <script src="../../scripts/main.js" type="text/javascript"></script>
            
            <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
        </footer>
    </body>
</html>

